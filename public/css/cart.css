/* Cart Styles - Modern Automotive Showroom */

/* Base styles */
.cart-item-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid #e5e7eb;
    background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
}

/* Consistent 5-column grid layout on desktop */
.cart-grid {
    display: grid;
    grid-template-columns: 180px 1fr 1fr 140px 200px 88px; /* image | info x2 | qty | total | delete */
    align-items: center;
    gap: 2rem;
}

@media (max-width: 1024px) {
    .cart-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}

.cart-col-image { grid-column: 1; }
.cart-col-info { grid-column: 2 / span 2; }
.cart-col-qty { grid-column: 4; }
.cart-col-total { grid-column: 5; }
.cart-col-delete { grid-column: 6; }

@media (max-width: 1024px) {
    .cart-col-image { grid-column: auto; }
    .cart-col-info { grid-column: auto; }
    .cart-col-qty { grid-column: auto; }
    .cart-col-total { grid-column: auto; }
    .cart-col-delete { grid-column: auto; }
}

/* Add breathing room between info and qty on desktop */
@media (min-width: 1024px) {
    .cart-col-info { padding-right: 0.75rem; }
}

.cart-item-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    border-color: #d1d5db;
}

/* Color options */
.color-option {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.color-option::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(59, 130, 246, 0.1);
    border-radius: 50%;
    transition: all 0.3s ease;
    transform: translate(-50%, -50%);
}

.color-option:hover::before {
    width: 100%;
    height: 100%;
}

.color-option:hover {
    transform: scale(1.15);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.color-option.border-blue-500 {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

/* Quantity controls */
.quantity-control {
    transition: all 0.2s ease;
    position: relative;
    overflow: hidden;
}

.quantity-control::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.5s;
}

.quantity-control:hover::before {
    left: 100%;
}

.quantity-control:hover {
    background-color: #f3f4f6;
    transform: scale(1.05);
}

.cart-qty-input {
    transition: all 0.2s ease;
    font-weight: 600;
}

.cart-qty-input:focus,
.cart-qty-input:focus-visible {
    outline: none;
    box-shadow: none;
}

/* Remove button */
.remove-item-btn {
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.remove-item-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(239, 68, 68, 0.1);
    border-radius: 50%;
    transition: all 0.3s ease;
    transform: translate(-50%, -50%);
}

.remove-item-btn:hover::before {
    width: 100%;
    height: 100%;
}

.remove-item-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);
}

/* Product images */
.cart-item-card img {
    transition: all 0.3s ease;
}

.cart-item-card img:hover {
    transform: scale(1.05);
}

/* Price displays */
/* High-contrast price text (inherit section color) */
.item-price {
    font-weight: 800;
    color: inherit;
    -webkit-text-fill-color: initial;
    background: none;
}

.item-total {
    font-weight: 800;
    color: #111827; /* gray-900 */
}

/* Loading states */
.opacity-50 {
    opacity: 0.5;
    pointer-events: none;
}

/* Animations */
@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Apply animations */
.cart-item-card {
    animation: slideInUp 0.6s ease-out;
}

.cart-item-card:nth-child(1) { animation-delay: 0.1s; }
.cart-item-card:nth-child(2) { animation-delay: 0.2s; }
.cart-item-card:nth-child(3) { animation-delay: 0.3s; }
.cart-item-card:nth-child(4) { animation-delay: 0.4s; }
.cart-item-card:nth-child(5) { animation-delay: 0.5s; }

/* Progress steps */
.progress-step {
    transition: all 0.3s ease;
}

.progress-step.active {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: white;
    transform: scale(1.05);
}

/* Order summary */
.order-summary {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border: 1px solid #e2e8f0;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* Checkout button */
.checkout-btn {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.checkout-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.checkout-btn:hover::before {
    left: 100%;
}

.checkout-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
}

/* Mobile optimizations */
@media (max-width: 768px) {
    .cart-item-card {
        margin-bottom: 1rem;
    }
    
    .cart-item-card:hover {
        transform: translateY(-2px);
    }
    
    .color-option:hover {
        transform: scale(1.1);
    }
    
    .quantity-control:hover {
        transform: scale(1.02);
    }
}

/* Dark mode support */
/* Force light card even in dark mode (per showroom design) */
@media (prefers-color-scheme: dark) {
    .cart-item-card {
        background: #ffffff;
        border-color: #e5e7eb;
        color: #0f172a; /* slate-900 */
    }
    .cart-item-card:hover { border-color: #d1d5db; }
    .item-price { color: inherit; }
    .item-total { color: #0f172a; }
}

/* Accessibility improvements */
.color-option:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

.quantity-control:focus,
.quantity-control:focus-visible {
    outline: none;
    box-shadow: none;
}

/* Remove mobile tap highlight on controls */
.quantity-control, .cart-qty-input { -webkit-tap-highlight-color: transparent; }

/* Remove native vertical spin buttons on number inputs inside cart */
.cart-item-card input[type=number]::-webkit-outer-spin-button,
.cart-item-card input[type=number]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
.cart-item-card input[type=number] { -moz-appearance: textfield; }

/* Improve contrast for buttons and text on light gradients */
.bg-gradient-to-r.from-blue-50.to-indigo-50 h2,
.bg-gradient-to-r.from-emerald-50.to-teal-50 h2 {
    color: #0f172a; /* slate-900 */
}
.bg-gradient-to-r.from-blue-50.to-indigo-50 span,
.bg-gradient-to-r.from-emerald-50.to-teal-50 span {
    color: #334155; /* slate-700 */
}

.remove-item-btn:focus {
    outline: 2px solid #ef4444;
    outline-offset: 2px;
}

/* New compact delete button styling */
.btn-delete {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 9999px;
    background: #fee2e2; /* red-100 */
    color: #dc2626;      /* red-600 */
    transition: all .2s ease;
}
.btn-delete:hover { background: #fecaca; color: #b91c1c; }
.btn-delete i { pointer-events: none; }

/* High contrast mode */
@media (prefers-contrast: high) {
    .cart-item-card {
        border-width: 2px;
    }
    
    .color-option {
        border-width: 3px;
    }
    
    .quantity-control {
        border-width: 2px;
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .cart-item-card,
    .color-option,
    .quantity-control,
    .remove-item-btn,
    .checkout-btn {
        transition: none;
        animation: none;
    }
    
    .cart-item-card:hover {
        transform: none;
    }
    
    .color-option:hover {
        transform: none;
    }
    
    .quantity-control:hover {
        transform: none;
    }
    
    .remove-item-btn:hover {
        transform: none;
    }
    
    .checkout-btn:hover {
        transform: none;
    }
}

/* Print styles */
@media print {
    .cart-item-card {
        break-inside: avoid;
        box-shadow: none;
        border: 1px solid #000;
    }
    
    .remove-item-btn,
    .checkout-btn {
        display: none;
    }
}

/* Cart table styles */
.cart-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
}
.cart-table thead th {
    font-weight: 700;
    border-bottom: 1px solid #e5e7eb;
}
.cart-table td, .cart-table th {
    padding: 1rem 1.5rem;
    vertical-align: middle;
}
.cart-table tbody tr:hover {
    background: #fafafa;
}

/* Laptop <=1280px: giữ layout bảng nhưng thu gọn khoảng cách */
@media (max-width: 1280px) and (min-width: 1025px) {
    .cart-table td, .cart-table th { padding: .75rem 1rem; }
    .cart-table th:nth-child(2), .cart-table td:nth-child(2) { min-width: 220px; }
}

/* Remove previous fixed widths; let content define width with min constraints */
.cart-table th, .cart-table td { width: auto; }
.cart-table th:nth-child(1), .cart-table td:nth-child(1) { min-width: 90px; }   /* Ảnh */
.cart-table th:nth-child(2), .cart-table td:nth-child(2) { min-width: 240px; }  /* Thông tin */
.cart-table th:nth-child(3), .cart-table td:nth-child(3) { min-width: 130px; }  /* Số lượng */
.cart-table th:nth-child(4), .cart-table td:nth-child(4) { min-width: 130px; }  /* Giá */
.cart-table th:nth-child(5), .cart-table td:nth-child(5) { min-width: 150px; }  /* Tổng */
.cart-table th:nth-child(6), .cart-table td:nth-child(6) { min-width: 90px; }   /* Thao tác */

/* Tablet & below stack */
@media (max-width: 640px) {
    .cart-table thead { display: none; }
    .cart-table, .cart-table tbody, .cart-table tr, .cart-table td {
        display: block;
        width: 100%;
    }
    .cart-table tr { margin-bottom: 1rem; border: 1px solid #e5e7eb; border-radius: 0.75rem; overflow: hidden; }
    .cart-table td { padding: 0.75rem 1rem; }
    .cart-table td[data-label]::before {
        content: attr(data-label);
        display: block;
        font-size: 0.75rem;
        text-transform: uppercase;
        color: #6b7280;
        margin-bottom: 0.25rem;
    }
}

/* Mobile touch tweaks */
@media (max-width: 640px) {
    .cart-table td { padding: 0.75rem 0.875rem; }
    .cart-table .quantity-control { padding: .375rem .625rem; }
    .cart-table .cart-qty-input { width: 3.25rem; }
    .btn-delete { width: 40px; height: 40px; }
    /* Ảnh nhỏ hơn để tiết kiệm chỗ */
    .cart-table td[data-label='Ảnh'] a { width: 5rem !important; height: 4rem !important; }
}

/* Centered table variant */
.cart-table.centered th, .cart-table.centered td { text-align: center; }
.cart-table.centered td[data-label]::before { text-align: left; }
/* Product column stays left-aligned */
.cart-table.centered th:nth-child(2),
.cart-table.centered td:nth-child(2) { text-align: left; }

/* Force middle vertical-align even if utility classes set top */
.cart-table td.align-top, .cart-table th.align-top { vertical-align: middle !important; }

/* Compact quantity controls */
.cart-table .quantity-control { padding: .25rem .5rem; }
.cart-table .cart-qty-input { width: 3rem; }

/* Remove native vertical spin buttons for number inputs inside cart tables */
.cart-table input[type=number]::-webkit-outer-spin-button,
.cart-table input[type=number]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
.cart-table input[type=number] { -moz-appearance: textfield; }
